<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Flashka</title>

  <!-- Prevent favicon 404 -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E">

  <!-- Base game styles (flip logic etc.). Do NOT change this file when switching ads -->
  <link rel="stylesheet" href="css/style.css?v=base-21" />

  <!-- Pack override (images only). Change this ONE line to swap sponsors -->
  <link id="pack-css" rel="stylesheet" href="css/packs/ad2.css?v=1"><!-- default Remy -->

  <!-- (Optional) Allow kiosk/query to select pack safely via ?pack=adN or ?ad=N -->
  <script>
    (function () {
      try {
        var q = new URLSearchParams(location.search);
        var p = (q.get('pack') || q.get('ad') || '').toLowerCase().trim();
        // UPDATED TO SUPPORT ad8
        if (/^[1-8]$/.test(p)) p = 'ad' + p;
        if (/^ad[1-8]$/.test(p)) {
          var el = document.getElementById('pack-css');
          if (el) el.href = 'css/packs/' + p + '.css?v=1';
        }
      } catch (e) { /* ignore */ }
    })();
  </script>

  <!-- Winner/Loser FX (keep if you use them) -->
  <link rel="stylesheet" href="css/winfx.css?v=fx" />
  <link rel="stylesheet" href="css/losefx.css?v=fx" />

  <!-- Game scripts (unchanged) -->
  <script defer src="js/script.js?v=21"></script>
  <script defer src="js/winfx.js?v=fx"></script>
  <script defer src="js/losefx.js?v=fx"></script>
</head>
<body>
  <!-- Welcome Modal -->
  <div id="welcome-modal" class="welcome-modal">
    <div class="modal-content">
      <h2 class="modal-title">Welcome to Flashka!</h2>
      <p class="modal-message">Match 4 images with just 7 card flips!</p>
      <p class="sponsor-text">This game brought to you by:</p>
      <div class="sponsor-logo" id="sponsor-logo"></div>
      <div class="sponsor-tagline" id="sponsor-tagline">
        <div class="ticker-text"></div>
      </div>
      <button class="modal-close" id="modal-close">PLAY NOW</button>
    </div>
  </div>

  <div class="container">
    <h1>Flashka</h1>

    <p class="instructions">
      Match the 4 images in 7 card flips or less to win a CHOCCY surprise!
    </p>

    <div class="status">
      <p class="attempts-had">Attempts Had: <span class="number" id="attempts">0</span></p>
      <p class="attempts-left">Attempts Left: <span class="number" id="attempts-left">7</span></p>
    </div>

    <div class="game-board" id="game-board"></div>

    <div class="result" id="result" style="display:none;">
      <p id="result-message"></p>
      <p id="times-played"></p>
      <div id="game-over-box" class="game-over-box"></div>
      <!-- Shown only on WIN -->
      <button id="share-btn" style="display:none">Send SMS</button>
    </div>
  </div>
</body>
</html>